# Dungeon Generator

åœ°åŸæ§‹é€ å¸« - è‡ªå‹•ç”Ÿæˆå¯†å¢ƒ/å‰¯æœ¬çš„æˆ¿é–“çµæ§‹ã€‚

## åŠŸèƒ½èªªæ˜

é‡å° `type: "Dungeon"` çš„å€åŸŸï¼Œè‡ªå‹•ç”Ÿæˆå…§éƒ¨æˆ¿é–“çµæ§‹ã€é™·é˜±è¨­å®šèˆ‡å¯¶ç‰©åˆ†å¸ƒã€‚

## ä½¿ç”¨æƒ…å¢ƒ

- ä¸»è§’é€²å…¥æ–°çš„å¯†å¢ƒ/å‰¯æœ¬
- éœ€è¦ç”Ÿæˆæ¢ç´¢åœ°åœ–
- éš¨æ©Ÿåœ°åŸç”Ÿæˆ

## åƒæ•¸è¨­å®š

```yaml
dungeon_settings:
  # åœ°åŸé¡å‹
  archetypes:
    - linear: "ç·šæ€§æ¨é€²ï¼ˆä¸€æ¢ä¸»è·¯ï¼‰"
    - branching: "åˆ†æ”¯çµæ§‹ï¼ˆå¤šæ¢è·¯ç·šï¼‰"
    - hub: "ä¸­å¿ƒè¼»å°„ï¼ˆæ ¸å¿ƒ+åˆ†æ”¯ï¼‰"
    - maze: "è¿·å®®å¼ï¼ˆè¤‡é›œäº¤éŒ¯ï¼‰"
    
  # é›£åº¦ç­‰ç´š
  difficulty_scaling:
    1-3: "æ–°æ‰‹å€"
    4-6: "é€²éšå€"
    7-9: "é«˜é›£åº¦"
    10: "çµ‚æ¥µæŒ‘æˆ°"
    
  # æˆ¿é–“é¡å‹åˆ†å¸ƒ
  room_distribution:
    combat: 0.4      # æˆ°é¬¥æˆ¿
    puzzle: 0.2      # è¬é¡Œæˆ¿
    treasure: 0.15   # å¯¶è—æˆ¿
    rest: 0.1        # ä¼‘æ¯æˆ¿
    boss: 0.05       # BOSSæˆ¿
    empty: 0.1       # ç©ºæˆ¿
```

## åŸ·è¡Œé‚è¼¯

### Step 1: è®€å–å€åŸŸè¨­å®š

å¾ `world_atlas.yaml` ç²å–å¯†å¢ƒåŸºæœ¬è³‡è¨Šï¼š

```yaml
zone_input:
  id: "ZONE_001"
  name: "æ•¸æ“šå»¢å¢Ÿ"
  hazard_level: 8
  mechanics: "éˆæ°£é »æ®µä¸ç©©å®š"
```

### Step 2: ç”Ÿæˆçµæ§‹

```yaml
dungeon_structure:
  type: "branching"
  total_rooms: 12
  floors: 3
  
  layout:
    floor_1:
      rooms:
        - id: "R1_1"
          type: "entrance"
          description: "å»¢æ£„çš„æ•¸æ“šç¯€é»å¤§å»³"
          exits: ["R1_2", "R1_3"]
          
        - id: "R1_2"
          type: "combat"
          description: "æå£çš„ä¼ºæœå™¨å®¤"
          enemies: ["æ•¸æ“šæ®˜é­‚ x3"]
          exits: ["R1_4"]
          
        - id: "R1_3"
          type: "puzzle"
          description: "å¯†ç¢¼é–ä¿éšªåº«"
          puzzle_type: "è§£å¯†"
          reward: "å¤ä»£ç®—æ³•ç¢ç‰‡"
          exits: ["R1_4"]
          
        - id: "R1_4"
          type: "rest"
          description: "å€–å­˜çš„å……é›»ç«™"
          effects: ["æ¢å¾©30%èƒ½é‡"]
          exits: ["floor_2_entrance"]
```

### Step 3: å¡«å……å…§å®¹

æ ¹æ“šä¸–ç•Œè§€ç”Ÿæˆå…·é«”å…§å®¹ï¼š

```yaml
room_content:
  enemies:
    - name: "æ•¸æ“šæ®˜é­‚"
      level: 7
      abilities: ["è…è•æ”»æ“Š", "æ•¸æ“šå¹²æ“¾"]
      drops: ["èƒ½é‡ç¢ç‰‡", "æ•…éšœæ¨¡çµ„"]
      
  traps:
    - name: "é »æ®µéŒ¯äº‚å€"
      trigger: "è¸©è¸"
      effect: "éš¨æ©Ÿå‚³é€åˆ°å…¶ä»–æˆ¿é–“"
      disarm: "ä½¿ç”¨ç©©é »å™¨"
      
  treasures:
    - name: "å¤è€ä¼ºæœå™¨æ ¸å¿ƒ"
      rarity: "Legendary"
      location: "éš±è—æˆ¿é–“"
      requirement: "è§£é–‹æ‰€æœ‰è¬é¡Œ"
      
  puzzles:
    - name: "ç®—æ³•é‡çµ„"
      description: "å°‡æ•£è½çš„ä»£ç¢¼ç¢ç‰‡æ’åˆ—æ­£ç¢ºé †åº"
      hints: ["ä¼ºæœå™¨æ—¥èªŒä¸­æœ‰ç·šç´¢"]
      solution: "3-1-4-1-5-9-2-6"
```

### Step 4: BOSS æˆ¿è¨­è¨ˆ

```yaml
boss_room:
  id: "R3_BOSS"
  type: "boss"
  description: "å¤è€ä¼ºæœå™¨ç¥­å£‡"
  
  boss:
    name: "å»¢æ£„å”è­°å®ˆè­·è€…"
    level: 10
    abilities:
      - name: "å”è­°é‡è¼‰"
        effect: "é‡ç½®æ‰€æœ‰å¢ç›Šæ•ˆæœ"
      - name: "æ•¸æ“šé¢¨æš´"
        effect: "å…¨å ´æŒçºŒå‚·å®³"
    phases: 3
    weak_points: ["æ ¸å¿ƒæš´éœ²æœŸ"]
    
  mechanics:
    - "æ¯æå¤±25%è¡€é‡é€²å…¥ä¸‹ä¸€éšæ®µ"
    - "ç¬¬äºŒéšæ®µå¬å–šå°æ€ª"
    - "ç¬¬ä¸‰éšæ®µå ´åœ°è®ŠåŒ–"
    
  rewards:
    - "å¤è€ç¥­å£‡æ ¸å¿ƒ"
    - "å”è­°ç¢ç‰‡ x3"
    - "ç”Ÿå­˜ç©åˆ† +500"
```

### Step 5: å¯«å…¥ä¸–ç•Œåœ°åœ–

æ“´å±• `world_atlas.yaml`ï¼š

```yaml
write_to:
  zones:
    - id: "ZONE_001"
      internal_structure:
        floors: 3
        rooms: 12
        room_map: [...]
```

## è¼¸å‡ºæ ¼å¼

```
ğŸ° åœ°åŸç”Ÿæˆå®Œæˆ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  åç¨±ï¼šæ•¸æ“šå»¢å¢Ÿ
  é¡å‹ï¼šåˆ†æ”¯çµæ§‹
  æ¨“å±¤ï¼š3
  æˆ¿é–“ï¼š12
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  æ¨“å±¤åˆ†å¸ƒï¼š
  â”œâ”€ F1ï¼šå…¥å£å¤§å»³ â†’ æˆ°é¬¥å®¤/è¬é¡Œå®¤ â†’ ä¼‘æ¯ç«™
  â”œâ”€ F2ï¼šèµ°å»Š â†’ å¯¶è—å®¤/é™·é˜±å€ â†’ éš±è—æˆ¿
  â””â”€ F3ï¼šå‰å»³ â†’ BOSSæˆ°å ´
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  å…§å®¹çµ±è¨ˆï¼š
  â”œâ”€ æˆ°é¬¥æˆ¿ï¼š5
  â”œâ”€ è¬é¡Œæˆ¿ï¼š2
  â”œâ”€ å¯¶è—æˆ¿ï¼š2
  â”œâ”€ ä¼‘æ¯æˆ¿ï¼š1
  â”œâ”€ BOSSæˆ¿ï¼š1
  â””â”€ ç©ºæˆ¿ï¼š1
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```
