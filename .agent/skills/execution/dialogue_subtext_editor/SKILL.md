# Dialogue Subtext Editor

對話潛台詞編輯器 - 重寫對話加入潛台詞。

## 功能說明

將直白的對話重寫為帶有潛台詞（Subtext）的內容，增加對話層次感。

## 使用情境

- 對話過於直白時進行潤色
- 角色有隱藏情緒或動機時
- 增加對話張力

## 執行邏輯

### Step 1: 分析原始對話

```yaml
dialogue_input:
  speaker: "CHAR_001"
  target: "CHAR_002"
  relationship: "Hostile"
  
  original_dialogue: "我不信任你。你會背叛我。"
  
  context:
    speaker_emotion: "憤怒、恐懼"
    speaker_hidden: "其實害怕再次被拋棄"
    scene: "談判桌上"
```

### Step 2: 確定潛台詞層次

```yaml
subtext_layers:
  surface: "表面意義（字面）"
  emotional: "情感含義（語氣）"
  hidden: "隱藏含義（未說出口的）"
  dynamic: "關係變化（這句話對雙方關係的影響）"
```

### Step 3: 重寫對話

**原始版本**：
```
"我不信任你。你會背叛我。"
```

**帶潛台詞版本**：
```
"上一個說會保護我的人，"他的聲音平靜得可怕，"現在躺在三十層的廢料場裡。"

他沒有看對方的眼睛。

"所以......謝謝你的提議。"
```

### Step 4: 潛台詞解析

```yaml
subtext_analysis:
  surface: "拒絕合作的提議"
  
  emotional: 
    - "平靜得可怕" → 壓抑的憤怒
    - "沒有看眼睛" → 不願直面情緒
    
  hidden:
    - 過去有人背叛過他
    - 他其實想接受但不敢
    - "謝謝"是諷刺也是真誠
    
  dynamic:
    - 拉開距離但留有餘地
    - 暗示了如果對方能證明自己，可能改變
```

### Step 5: 輸出選項

提供多個版本供選擇：

```yaml
versions:
  - version: "A（暗示為主）"
    dialogue: "..."
    subtext_intensity: 0.8
    
  - version: "B（平衡）"
    dialogue: "..."
    subtext_intensity: 0.5
    
  - version: "C（較直白）"
    dialogue: "..."
    subtext_intensity: 0.3
```

## 潛台詞技巧庫

| 技巧 | 範例 | 效果 |
|------|------|------|
| 轉移話題 | 說A避開B | 暗示B才是重點 |
| 過度強調 | "我真的沒事" | 暗示其實有事 |
| 身體語言矛盾 | 說謝謝但握緊拳頭 | 內心真實情緒 |
| 引用過去 | 提及舊事 | 暗示當前情緒來源 |
| 沉默 | 停頓、不回答 | 比言語更有力 |
| 反問 | "你覺得呢？" | 將問題拋回去 |

## 輸出格式

```
✏️ 對話潛台詞編輯
───────────────────────────
原始對話：
"我不信任你。你會背叛我。"

→ 帶潛台詞版本：
"上一個說會保護我的人，"他的聲音
平靜得可怕，"現在躺在三十層的廢料
場裡。"

他沒有看對方的眼睛。

"所以......謝謝你的提議。"
───────────────────────────
潛台詞強度：0.8
表面意義：拒絕合作
隱藏含義：過去的背叛、恐懼、期待
```
