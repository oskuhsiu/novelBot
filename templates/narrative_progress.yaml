# Narrative Progress - 劇情進度追蹤
# 記錄當前寫作進度與大綱結構
# 採用 Arc-SubArc-Chapter 三層架構

progress:
  current_arc: 1
  current_subarc_id: ""
  current_chapter: 1
  chapters_written: 0
  words_written: 0

# 全書大綱結構（Arc-SubArc-Chapter 三層架構）
arcs:
  - arc_id: 1
    title: ""
    summary: ""
    emotion_arc: ""
    structure_role: ""
    pacing_pointer: null  # 使用全域，或指定覆蓋值
    # ⬇️ Arc 結尾摘要 - 跨 Arc 銜接的關鍵
    ending_summary: ""  # 本卷結束時的狀態與懸念（自動生成）
    subarcs:
      - id: "A1_S1"
        summary: ""
        characters: []
        location: ""
        emotion_shift: ""
        hook: ""
        pacing_pointer: null
        chapters: []  # 執行時動態填入章節編號
        # ⬇️ SubArc 結尾摘要 - 跨 SubArc 銜接的關鍵
        ending_summary: ""  # 此細目結束時的狀態（自動生成）
        is_completed: false
    is_completed: false

# 章節完成記錄（獨立於 Arc 結構，便於快速查詢）
completed_chapters:
  - chapter_id: 0
    subarc_id: ""
    arc_id: 0
    title: ""
    word_count: 0
    completed_at: ""
    # ⬇️ 章節結尾摘要 - 每章寫完後自動填入
    ending_summary: ""  # 本章結尾的關鍵狀態與懸念
    ending_state:
      location: ""  # 主要角色當前位置
      key_characters: []  # 在場角色
      unresolved: ""  # 未解決的懸念/衝突
